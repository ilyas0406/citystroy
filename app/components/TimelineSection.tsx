'use client';

import React, { useState } from 'react';

const timelineData: Record<number, string[]> = {
  2012: [
    "Заказчик ГКП на ПХВ «Областной перинатальный центр»- текущий ремонт клинико-диагностического отделения в г. Актобе"
  ],
  2016: [
    "Заказчик ТОО «АСТАК Трейд»-Установка железобетонных заборов",
    "Заказчик ИП Жалимбетов Ф.Ф –реконструкция 5 этажного дома",
    "Заказчик ТОО «АСТАК Трейд»-Земляные работы"
  ],
  2017: [
    "Заказчик ГУ \"Управление строительства, архитектуры и градостроительства Актюбинской области - Строительно-монтажные работы по объекту \"Строительство объектов внешней инфраструктуры (автодорога) к тепличному хозяйству и автомойке ИП «Сунгатовой З.У.» в городе Кандыагаш Мугалжарского района Актюбинской области\""
  ],
  2019: [
    "Заказчик Государственное учреждение «Служба пожаротушения и аварийно-спасательных работ Департамента по чрезвычайным ситуациям города Нур-Султан Министерства по чрезвычайным ситуациям Респубики Казахстан (город Нур-Султан)»-УТК «Теплодымокамера»",
    "Заказчик ТОО \"Пассажирское автотранспортное предприятие города Актобе»- Работы по  реставрация и восстановлению шин",
    "Заказчик Республиканское государственное учреждение \"Комитет по чрезвычайным ситуациям Министерства внутренних дел Республики Казахстан»- Автомобиль с комплектом водолазного оборудования",
    "Заказчик Государственное учреждение «Департамент по чрезвычайным ситуациям Северо-Казахстанской области Министерства по чрезвычайным ситуациям Республики Казахстан»-Дыхательный аппарат"
  ],
  2020: [
    "Заказчик РГКП «Национальный музей Республики Казахстан»-Проектор цифровой",
    "Государственное учреждение \"Департамент по чрезвычайным ситуациям Северо-Казахстанской области Министерства по чрезвычайным ситуациям Республики Казахстан» –Дыхательный аппарат",
    "Заказчик РГП «Казгидромет»- Снегомер весовой",
    "Заказчик РГП «Казгидромет»-  Передвижная лаборатория"
  ],
  2021: [
    "Заказчик ГУ «Центральный  военный госпиталь с поликлиникой КНБ РК»-Поставка и установка модкльного КПП на территории ЦВГП КНБ РК",
    "Заказчик АО «Республиканский центр Казимпэкс»-Ремонт административного  здания РГУ \"войсковая часть 60563»",
    "Заказчик ТОО \"КОМ-МУНАЙ\"  - Дыхательные аппараты"
  ],
  2022: [
    "Заказчик ГУ «Департамент по чрезвычайным ситуациям Карагандинской области Министерства по чрезвычайным ситуациям Республики Казахстан –Дыхательный аппарат",
    "Заказчик ГУ «Департамент по чрезвычайным ситуациям Павлодарской области Министерства по чрезвычайным ситуациям Республики Казахстан –Дыхательный аппарат",
  ],
  2023: [
    "Заказчик РГУ «Служба пожаротушения и аварийно-спасательных работ Департамента по чрезвычайным ситуациям области Ұлытау Министерства по чрезвычайным ситуациям Республики Казахстан (город Жезказган)»- Дыхательный аппарат",
    "Заказчик ГКП на ПХВ \"Алматы Су\" Управления энергетики и водоснабжения города Алматы- Песок кварцовый",
    "Заказчик ГУ «Департамент по чрезвычайным ситуациям Западно-Казахстанской области Министерства по чрезвычайным ситуациям Республики Казахстан»-Приобретение машин, оборудования, инструментов, производственного и хозяйственного инвентаря"
  ],
  2024: [
    "Заказчик ГУ «Департамент по чрезвычайным ситуациям Жамбылской области Министерства по чрезвычайным ситуациям Республики Казахстан»- Автомобиль с водолазным оборудованием",
    "Заказчик НАО \"ЗКМУ«- Ультразвуковая установка",
    "Заказчик ГУ «Департамент по чрезвычайным ситуациям Западно-Казахстанской  области Министерства по чрезвычайным ситуациям Республики Казахстан- УТК Теплодымокамера",
    "Заказчик Акционерное общество \"Транснациональная компания «Казхром»- Текущий ремонт подземных резервуаров склада ГСМ УСХ",
    "Заказчик Акционерное общество \"Транснациональная компания «Казхром»- Текущий ремонт здания Градирни №3"
  ],
  2025: [
    "Заказчик ГУ «Департамент по чрезвычайным ситуациям Павлодарской области МЧС – УТК Теплодымокамера"
  ]
};

export default function TimelineSection() {
  const [activeYear, setActiveYear] = useState<number | null>(null);
  const years = Object.keys(timelineData).map(Number).sort((a, b) => a - b);

  return (
    <section className="w-full bg-[#101010] text-white py-20">
      <div className="container mx-auto px-4 max-w-6xl">
        <h3 className="text-3xl font-bold text-center mb-12">История проектов</h3>

        <div className="relative w-full h-2 bg-gray-700 mb-12 rounded">
          <div className="absolute inset-0 flex justify-between items-center">
            {years.map(year => (
              <div 
                key={year} 
                className="relative group cursor-pointer"
                onClick={() => setActiveYear(activeYear === year ? null : year)}
              >
                <div className={`w-6 h-6 rounded-full transition-all duration-300
                  ${activeYear === year 
                    ? 'bg-[#D32F2F] border-4 border-[#D32F2F]' 
                    : 'bg-gray-600 hover:bg-[#D32F2F] hover:border-4 hover:border-[#D32F2F]'
                  }`}>
                </div>
                <div className="absolute -top-10 left-1/2 transform -translate-x-1/2 text-sm text-gray-300 group-hover:text-white">
                  {year}
                </div>
              </div>
            ))}
          </div>
        </div>

        {activeYear && (
          <div className="bg-[#1f1f1f] p-6 rounded-xl shadow-lg transition-all duration-300">
            <h4 className="text-2xl font-semibold mb-4">{activeYear} год</h4>
            <ul className="list-disc list-inside space-y-2 text-gray-200">
              {timelineData[activeYear].map((item, index) => (
                <li key={index}>{item}</li>
              ))}
            </ul>
          </div>
        )}
      </div>
    </section>
  );
}
